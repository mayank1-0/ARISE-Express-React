<body>
    <h1>Staff Login</h1>
    <br>
    <input type="text" id="staff_name" placeholder="staff_name"><br><br>
    <input type="password" id="password" placeholder="password"><br><br>
    <button type="button" onclick="login()">LOGIN</button>
    <script>
        function login() {
            var data = {
                staff_name: $("#staff_name").val(),
                password: $("#password").val(),
            }
        console.log(data);
            $.ajax({                      //will initiate a post request to specified url and fetch result from that
                type: "POST",
                url: "/login-staff",         //loads and executes the javaScript file associated with this route.
                dataType: 'JSON',
                data: data,
                success: function success(result) {
                    console.log(result);
                    window.alert('Login Successful')
                    window.localStorage.setItem('token', result.token)
                    window.location.href = '/staff-dashboard';
                },
                error: function error(error) {
                    window.alert('Invalid Credentials')
                    console.log(error)
                    // window.alert(error.responseJSON.data.errors[0].message);
                }
            })
        }
    </script>
</body>

